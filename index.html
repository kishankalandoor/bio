<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KISHAN</title>
    <style>
        body, html {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #800000;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            animation: changeBackground 90s infinite;
        }

        .centered-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 10vw;
            font-weight: bold;
            color: #ffffff;
            z-index: 2;
            text-align: center;
            padding: 20px;
            animation: neonGlow 2.5s ease-in-out infinite alternate; /* Slowed down neon animation */
        }

        @keyframes changeBackground {
            0% { background-color: #800000; }
            50% { background-color: #006400; }
            100% { background-color: #000080; }
        }

        @keyframes neonGlow {
            0% { text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff69b4, 0 0 30px #ff69b4; }
            100% { text-shadow: 0 0 10px #00bfff, 0 0 20px #00ffff, 0 0 30px #00ffff; }
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
    </style>
</head>
<body onclick="playAudio()">
    <div class="centered-text">KISHAN</div>
    <audio id="myAudio" controls style="display:none;">
        <source src="centuries.mp3" type="audio/mpeg">
        <track src="subtitles.vtt" kind="subtitles" srclang="en" label="English" default>
        Your browser does not support the audio element.
    </audio>
    <div id="particles-js"></div>

    <canvas id="canvas"></canvas>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        particlesJS("particles-js", {
            "particles": {
                "number": {
                    "value": 50,
                    "density": {
                        "enable": true,
                        "value_area": 1200
                    }
                },
                "color": {
                    "value": "#000080"
                },
                "shape": {
                    "type": "circle",
                    "stroke": {
                        "width": 0,
                        "color": "#000"
                    },
                    "polygon": {
                        "nb_sides": 5
                    }
                },
                "opacity": {
                    "value": 0.5,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 1,
                        "opacity_min": 0.1,
                        "sync": false
                    }
                },
                "size": {
                    "value": 5,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 10,
                        "size_min": 0.1,
                        "sync": false
                    }
                },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#ffffff",
                    "opacity": 0.4,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 3,
                    "direction": "none",
                    "random": true,
                    "straight": false,
                    "out_mode": "out",
                    "bounce": false,
                    "attract": {
                        "enable": false,
                        "rotateX": 600,
                        "rotateY": 1200
                    }
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": {
                        "enable": true,
                        "mode": "repulse"
                    },
                    "onclick": {
                        "enable": true,
                        "mode": "push"
                    },
                    "resize": true
                }
            },
            "retina_detect": true
        });

        const audio = document.getElementById("myAudio");
        const canvas = document.getElementById("canvas");
        const canvasCtx = canvas.getContext("2d");

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        const analyser = audioCtx.createAnalyser();
        const source = audioCtx.createMediaElementSource(audio);

        source.connect(analyser);
        analyser.connect(audioCtx.destination);

        analyser.fftSize = 256;
        const bufferLength = analyser.frequencyBinCount;
        const dataArray = new Uint8Array(bufferLength);

        function draw() {
            requestAnimationFrame(draw);

            analyser.getByteFrequencyData(dataArray);

            canvasCtx.clearRect(0, 0, canvas.width, canvas.height);

            const barWidth = (canvas.width / bufferLength) * 2.5;
            let barHeight;
            let x = 0;

            for(let i = 0; i < bufferLength; i++) {
                barHeight = dataArray[i];

                const r = barHeight + 25 * (i / bufferLength);
                const g = 250 * (i / bufferLength);
                const b = 50;

                canvasCtx.fillStyle = `rgb(${r},${g},${b})`;
                canvasCtx.fillRect(x, canvas.height - barHeight / 2, barWidth, barHeight / 2);

                x += barWidth + 1;
            }

            const avg = dataArray.reduce((a, b) => a + b) / bufferLength;
            const color = `rgb(${avg}, ${avg / 2}, ${255 - avg})`;
            document.body.style.backgroundColor = color;
        }

        draw();

        function playAudio() {
            audioCtx.resume().then(() => {
                audio.play();
            });
        }
    </script>
</body>
</html>
